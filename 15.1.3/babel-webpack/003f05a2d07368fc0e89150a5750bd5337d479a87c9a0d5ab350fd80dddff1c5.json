{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./chatbot-api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./chatbot.component\";\nexport class ChatbotFormComponent {\n  constructor(chatbotApi, router) {\n    this.chatbotApi = chatbotApi;\n    this.router = router;\n    this.message = {\n      text: \"\"\n    };\n    this.chatbot = {\n      messages: [],\n      response: ''\n    };\n  }\n  updateMessage(event) {\n    this.message.text = event.target.value;\n  }\n  updateResponse(event) {\n    this.chatbot.response = event.target.value;\n  }\n  saveChatbot() {\n    this.chatbot.messages.push(this.message.text);\n    this.chatbotApi.saveChatbot(this.chatbot).subscribe(() => this.router.navigate(['/']), error => alert(error.message));\n  }\n}\nChatbotFormComponent.ɵfac = function ChatbotFormComponent_Factory(t) {\n  return new (t || ChatbotFormComponent)(i0.ɵɵdirectiveInject(i1.ChatbotApiService), i0.ɵɵdirectiveInject(i2.Router));\n};\nChatbotFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ChatbotFormComponent,\n  selectors: [[\"chatbot-form\"]],\n  decls: 5,\n  vars: 0,\n  consts: [[\"id\", \"chatbot-message\", 3, \"keydown.enter\", \"keyup\"], [\"id\", \"send-message\", 3, \"click\"]],\n  template: function ChatbotFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"chatbot\");\n      i0.ɵɵelementStart(1, \"div\")(2, \"input\", 0);\n      i0.ɵɵlistener(\"keydown.enter\", function ChatbotFormComponent_Template_input_keydown_enter_2_listener() {\n        return ctx.saveChatbot();\n      })(\"keyup\", function ChatbotFormComponent_Template_input_keyup_2_listener($event) {\n        return ctx.updateMessage($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function ChatbotFormComponent_Template_button_click_3_listener() {\n        return ctx.saveChatbot();\n      });\n      i0.ɵɵtext(4, \"Send Message\");\n      i0.ɵɵelementEnd()();\n    }\n  },\n  dependencies: [i3.ChatbotComponent],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;AAeA,OAAM,MAAOA,oBAAoB;EAS/BC,YAAoBC,UAA6B,EAAUC,MAAc;IAArD,eAAU,GAAVD,UAAU;IAA6B,WAAM,GAANC,MAAM;IAP/D,YAAO,GAAG;MAACC,IAAI,EAAC;IAAE,CAAC;IAEnB,YAAO,GAAG;MACNC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE;KACb;EAE0E;EAE7EC,aAAa,CAACC,KAAU;IACtB,IAAI,CAACC,OAAO,CAACL,IAAI,GAAGI,KAAK,CAACE,MAAM,CAACC,KAAK;EACxC;EAEAC,cAAc,CAACJ,KAAU;IACvB,IAAI,CAACK,OAAO,CAACP,QAAQ,GAAGE,KAAK,CAACE,MAAM,CAACC,KAAK;EAC5C;EAEAG,WAAW;IACT,IAAI,CAACD,OAAO,CAACR,QAAQ,CAACU,IAAI,CAAC,IAAI,CAACN,OAAO,CAACL,IAAI,CAAC;IAC7C,IAAI,CAACF,UAAU,CACZY,WAAW,CAAC,IAAI,CAACD,OAAO,CAAC,CACzBG,SAAS,CACR,MAAM,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,EACjCC,KAAK,IAAIC,KAAK,CAACD,KAAK,CAACT,OAAO,CAAC,CAC9B;EACL;;AA3BWT,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MAP7BC,0BAAmB;MACnBA,2BAAK;MAC2BA;QAAA,OAAiBC,iBAAa;MAAA,EAAC;QAAA,OAAUA,yBAAqB;MAAA,EAA/B;MAA3DD,iBAA4F;MAC5FA,iCAAkD;MAAxBA;QAAA,OAASC,iBAAa;MAAA,EAAC;MAACD,4BAAY;MAAAA,iBAAS","names":["ChatbotFormComponent","constructor","chatbotApi","router","text","messages","response","updateMessage","event","message","target","value","updateResponse","chatbot","saveChatbot","push","subscribe","navigate","error","alert","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/jordisaleilles/Desktop/MECC/MECC/frontend/src/app/chatbot/chatbot-form.component.ts"],"sourcesContent":["import {AfterViewInit, Component, ElementRef} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {ChatbotApiService} from \"./chatbot-api.service\";\nimport {Router} from \"@angular/router\";\n\n@Component({\n  selector: 'chatbot-form',\n  template: `\n    <chatbot></chatbot>\n    <div>\n        <input id=\"chatbot-message\" (keydown.enter)=\"saveChatbot()\" (keyup)=\"updateMessage($event)\">\n        <button id=\"send-message\" (click)=\"saveChatbot()\">Send Message</button>\n    </div>\n  `\n})\nexport class ChatbotFormComponent {\n\n    message = {text:\"\"};\n\n    chatbot = {\n        messages: [],\n        response: '',\n    };\n\n  constructor(private chatbotApi: ChatbotApiService, private router: Router) { }\n\n  updateMessage(event: any) {\n    this.message.text = event.target.value;\n  }\n\n  updateResponse(event: any) {\n    this.chatbot.response = event.target.value;\n  }\n\n  saveChatbot() {\n    this.chatbot.messages.push(this.message.text)\n    this.chatbotApi\n      .saveChatbot(this.chatbot)\n      .subscribe(\n        () => this.router.navigate(['/']),\n        error => alert(error.message)\n      );\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}